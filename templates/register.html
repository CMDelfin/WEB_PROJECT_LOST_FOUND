{% extends 'base.html' %}
{% block content %}

<div class="auth-wrapper d-flex justify-content-center align-items-center vh-100">
  <div class="card auth-card shadow-lg rounded-4 p-4 form-card" style="width: 100%; max-width: 400px;">
    <div class="text-center mb-4">
      <img src="{{ url_for('static', filename='images/lostfoundlogo.png') }}" alt="Trackr Logo" width="80"
           class="mb-3 rounded-circle border shadow-sm logo-border">
      <h2 class="fw-bold auth-title">Create an Account</h2>
      <p class="auth-subtitle">Join Trackr today</p>
    </div>
    <form id="registerForm" method="POST" novalidate>
      <div class="mb-3">
        <label for="username" class="form-label fw-semibold auth-label">Username</label>
        <input type="text" name="username" id="username" class="form-control auth-input" placeholder="Enter username" required>
      </div>
      <div class="mb-3">
        <label for="email" class="form-label fw-semibold auth-label">Email address</label>
        <input type="email" name="email" id="email" class="form-control auth-input" placeholder="you@example.com" required>
      </div>
      <div class="mb-3">
        <label for="phone" class="form-label fw-semibold auth-label">Phone</label>
        <input type="text" name="phone" id="phone" class="form-control auth-input" placeholder="Enter phone number">
      </div>
      <div class="mb-4">
        <label for="password" class="form-label fw-semibold auth-label">Password</label>
        <input type="password" name="password" id="password" class="form-control auth-input" placeholder="Create a password" required minlength="6">
      </div>
      <button type="submit" class="btn btn-primary w-100 py-2 fw-bold rounded-pill shadow-sm" id="registerBtn">
        <span id="btnText">Register</span>
        <span id="btnSpinner" class="spinner-border spinner-border-sm ms-2" role="status" style="display:none;"></span>
      </button>
    </form>
    <p class="text-center auth-footer-text mt-3">
      Already have an account? <a href="{{ url_for('login') }}" class="auth-link">Login here</a>.
    </p>
  </div>
</div>

<div class="modal fade" id="otpModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content rounded-4">
      <div class="modal-header">
        <h5 class="modal-title fw-bold" id="otpModalLabel">Verify Your Email</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p>Please enter the 6-digit OTP sent to your email:</p>
        <input type="text" id="otpInput" class="form-control text-center" maxlength="6" placeholder="Enter OTP">
        <div id="otpError" class="text-danger mt-2" style="display:none;"></div>
      </div>
      <div class="modal-footer">
        <button type="button" id="verifyOtpBtn" class="btn btn-primary w-100 fw-bold rounded-pill">
          <span id="otpBtnText">Verify OTP</span>
          <span id="otpSpinner" class="spinner-border spinner-border-sm ms-2" role="status" style="display:none;"></span>
        </button>
      </div>
    </div>
  </div>
</div>

{% endblock %}
